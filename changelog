adns (0.4) unstable; urgency=high

  General important bugfixes:
  * make _qf_owner work if _qf_search not specified, and test it (oops!)
  * ads->configerrno now initialised (in setup.c).
  * timercmp(,,<=) doesn't work - use !timercmp(,,>).
  * Changed memory semantics of internal queries to fix bugs.
  * Restarting a TCP-using query (eg due to CNAME) doesn't abort.
  
  Fixes for handling of broken kinds of reply:
  * Only accept a reply from the subset of servers we sent the query.
  * Ignore CNAME(s) in answer after RR(s) (and test).

  Other bugfixes and improvements:
  * adns_s_systemfail is in table of errors (for eg adns_strerror).
  * Do not ship config.cache, Makefile, etc.
  * Improvements to install instructions, TODO, etc.
  * Regression tests compile on systems without poll(2).
  * Do not install adnstest_s.
  * _submit returns ENOSYS, not adns_s_unknownquery; documented, tested.
  * <adns.h> includes <sys/types.h>, <sys/time.h>, <unistd.h>.

 -- Ian Jackson <ian@davenant.greenend.org.uk>  Thu, 5 Aug 1999 01:17:38 +0100

adns (0.3) unstable; urgency=low

  Incompatible changes:
  * Low adns_status values (below adns_s_max_tempfail) renumbered to make
    room for future locally-induced and locally-detected errors.
  * Event loop functions for use by select(2) renamed and tidied up.
  
  Features / improvements:
  * New adns_errabbrev() for getting status abbreviation strings.
  * regress/checkall prints summary list of failed tests, if any.
  * Event loop functions for poll(2), and some raw variants.
  * adnstest has ability to use poll(2), and user can set initflags.
  * checkall prints passed list as well as failed list, if any failed.
  * You can iterate over outstanding queries (but only once at a time).
  
  Bugfixes:
  * Non-RFC822 mailbox `domain' formatting now works, and clarified.
  * Rejection of bad characters in domains (without quoteok) works.
  * Clean up parents from adns->childw (otherwise would abort/segfault).
  * In adnstest, allocate enough space for, and terminate, query types.
  * In adnstest, don't print errno values as adns_status values.
 
  * Added TODO file.
  * Made adnstest.c test context pointers.

 -- Ian Jackson <ian@davenant.greenend.org.uk>  Thu, 15 Jul 1999 00:23:12 +0100

adns (0.2) experimental; urgency=low

  Portability fixes for compilation on various platforms:
  * Include <sys/socket.h> and <netinet/in.h> in files with <arpa/inet.h>.
  * Don't use GCC union assignment feature (.rrs=0 => .rrs.untyped=0).
  * Explictly cast things to [const] struct sockaddr* in syscall args.
  * Check whether we need -lsocket.
  * Include <sys/times.h> in a few more files.
  * Include <unistd.h> and <sys/time.h> for select.
  * Look for inet_aton and inet_ntoa (in -lnsl and -lsocket).
  * LDLIBS removed from dependency lists (some makes don't support this).
  * An `ambiguous else' warning from some compilers in types.c is removed.

  Other changes:
  * Added COPYING (copy of the GPL).
  * Regression test failure output improved.
  * Missing targets in regress/Makefile.in added.
  * Regression test doesn't rely on value of fcntl flags eg O_NONBLOCK.

 -- Ian Jackson <ian@davenant.greenend.org.uk>  Thu, 20 May 1999 00:27:32 +0100

adns (0.1) experimental; urgency=low

  * Initial public alpha release.

 -- Ian Jackson <ian@davenant.greenend.org.uk>  Sat, 17 April 1999 17:42:19

Local variables:
mode: debian-changelog
End:
